<div class="gym-list-container">
  <!-- Header Section -->
  <div class="page-header">
    <div class="header-content">
      <div class="header-left">
        <h1 class="page-title">
          <mat-icon class="title-icon">fitness_center</mat-icon>
          Danh SÃ¡ch PhÃ²ng Gym
        </h1>
        <button mat-stroked-button color="primary" class="back-btn" (click)="goBack()">
          <mat-icon>arrow_back</mat-icon>
          Quay Láº¡i
        </button>
        <p class="page-subtitle">Quáº£n lÃ½ vÃ  theo dÃµi cÃ¡c phÃ²ng gym cá»§a báº¡n</p>
      </div>
      <div class="header-actions">
        <button mat-raised-button color="primary" class="add-btn" (click)="goAdd()">
          <mat-icon>add</mat-icon>
          ThÃªm Gym Má»›i
        </button>
      </div>
    </div>
  </div>

  <!-- Main Content -->
  <div class="main-content">
    <!-- Stats Cards -->
    <div class="stats-section" *ngIf="gyms.length">
      <div class="stat-card">
        <div class="stat-icon">ğŸ‹ï¸</div>
        <div class="stat-content">
          <h3 class="stat-number">{{ gyms.length }}</h3>
          <p class="stat-label">Tá»•ng sá»‘ Gym</p>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-icon">ğŸ“</div>
        <div class="stat-content">
          <h3 class="stat-number">{{ getActiveGyms() }}</h3>
          <p class="stat-label">Gym Hoáº¡t Äá»™ng</p>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-icon">âš™ï¸</div>
        <div class="stat-content">
          <h3 class="stat-number">{{ getTotalEquipment() }}</h3>
          <p class="stat-label">Thiáº¿t Bá»‹</p>
        </div>
      </div>
    </div>

    <!-- Gym List -->
    <div class="gym-list" *ngIf="gyms.length">
      <div class="gym-card" *ngFor="let gym of gyms; trackBy: trackByGymId">
        <div class="gym-header">
          <div class="gym-icon">ğŸ‹ï¸</div>
          <div class="gym-info">
            <h3 class="gym-name">{{ gym.name }}</h3>
            <p class="gym-address">
              <mat-icon>location_on</mat-icon>
              {{ gym.address || 'ChÆ°a cÃ³ Ä‘á»‹a chá»‰' }}
            </p>
          </div>
          <div class="gym-status">
            <span class="status-badge active">Hoáº¡t Ä‘á»™ng</span>
          </div>
        </div>

        <div class="gym-details">
          <div class="detail-item">
            <mat-icon>schedule</mat-icon>
            <span>Giá» má»Ÿ cá»­a: 6:00 - 22:00</span>
          </div>
          <div class="detail-item">
            <mat-icon>phone</mat-icon>
            <span>LiÃªn há»‡: {{ gym.phone || 'ChÆ°a cÃ³' }}</span>
          </div>
          <div class="detail-item">
            <mat-icon>people</mat-icon>
            <span>ThÃ nh viÃªn: {{ gym.memberCount || 0 }}</span>
          </div>
        </div>

        <div class="gym-actions">
          <button mat-stroked-button color="primary" class="action-btn" (click)="viewEquipment(gym)">
            <mat-icon>build</mat-icon>
            Xem Thiáº¿t Bá»‹
          </button>
          <button mat-stroked-button color="accent" class="action-btn" (click)="openEdit(gym)">
            <mat-icon>edit</mat-icon>
            Chá»‰nh Sá»­a
          </button>
          <button mat-stroked-button color="warn" class="action-btn" (click)="deleteGym(gym)">
            <mat-icon>delete</mat-icon>
            XÃ³a
          </button>
        </div>
      </div>
    </div>

    <!-- Empty State -->
    <div class="empty-state" *ngIf="!gyms.length && !loading">
      <div class="empty-icon">ğŸ‹ï¸</div>
      <h3 class="empty-title">ChÆ°a cÃ³ phÃ²ng gym nÃ o</h3>
      <p class="empty-description">
        Báº¯t Ä‘áº§u báº±ng cÃ¡ch táº¡o phÃ²ng gym Ä‘áº§u tiÃªn Ä‘á»ƒ quáº£n lÃ½ thiáº¿t bá»‹ vÃ  thÃ nh viÃªn
      </p>
      <button mat-raised-button color="primary" class="empty-action" (click)="goAdd()">
        <mat-icon>add</mat-icon>
        Táº¡o Gym Äáº§u TiÃªn
      </button>
    </div>

    <!-- Loading State -->
    <div class="loading-state" *ngIf="loading">
      <mat-spinner diameter="50"></mat-spinner>
      <p class="loading-text">Äang táº£i danh sÃ¡ch gym...</p>
    </div>
  </div>
</div>

<ng-template #gymEditTpl>
  <h2 mat-dialog-title>
    <mat-icon>edit</mat-icon>
    Chá»‰nh sá»­a Gym
  </h2>
  <div mat-dialog-content *ngIf="selectedGym as g">
    <div class="gym-summary" style="margin-bottom: 12px;">
      <p><strong>TÃªn hiá»‡n táº¡i:</strong> {{ g.name }}</p>
      <p><strong>Äá»‹a chá»‰ hiá»‡n táº¡i:</strong> {{ g.address || 'ChÆ°a cÃ³' }}</p>
      <p><strong>Cáº­p nháº­t lÃºc:</strong> {{ g.updatedAt | date:'dd/MM/yyyy HH:mm' }}</p>
    </div>
    <mat-form-field appearance="outline" style="width: 100%; margin-top: 8px;">
      <mat-label>TÃªn</mat-label>
      <input matInput [(ngModel)]="g.name" />
    </mat-form-field>
    <mat-form-field appearance="outline" style="width: 100%; margin-top: 12px;">
      <mat-label>Äá»‹a chá»‰</mat-label>
      <input matInput [(ngModel)]="g.address" />
    </mat-form-field>
  </div>
  <div mat-dialog-actions align="end">
    <button mat-button (click)="closeEdit()">Há»§y</button>
    <button mat-raised-button color="primary" (click)="saveEdit()">Cáº­p nháº­t</button>
  </div>
</ng-template>